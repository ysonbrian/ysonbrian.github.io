{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/blockchain4/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>다양한 블록체인 지갑</h1>\n<hr>\n<h2>스마트컨트랙트 지갑</h2>\n<p>스마트컨트랙트지갑은 스마트컨트랙트 기능을 통해 고유한 능력을 가진 지갑입니다. 사용자를 위한 추가 보안 및 복구 기능을 사용할 수 있습니다.</p>\n<h3>특징</h3>\n<ul>\n<li><strong>2단계 인증</strong> 인증 앱 및/또는 기본 지갑 솔루션을 통해 추가 보안 기능을 제공한다.</li>\n<li><strong>ATM과 같은 인출 제한</strong> 트랜잭션 금액 제한을 설정할 수 있는데 이는 사용자가 잘못 판단하여 높은 금액의 인출 가능성을 줄이고, 공격자가 한 트랜잭션에서 지갑의 모든 금액을 가져가는 것을 방지할 수 있다.</li>\n<li><strong>화이트리스트 및 블랙리스트</strong> 사용자는 자신이 지정한 주소(화이트리스트)로만 전송할 수 있고, 차단한 주소(블랙리스트)에는 전송 하지 않는다.</li>\n<li><strong>사기 경보 및 긴급 잠금</strong> 장치를 분실하거나 도난당한 경우 계정을 잠그거나 손상된 장치에서 계정에 대한 액세스를 비활성화 할 수 있음</li>\n</ul>\n<h3>지갑 종류</h3>\n<ul>\n<li>하드웨어 지갑 - 하드웨어 지갑은 거래에 서명할 때 개인 키를 인터넷에 노출하지 않기 때문에 온라인 상태에서 자산에 액세스하는 가장 안전한 방법</li>\n<li>모바일 지갑 - 모바일 지갑은 데스크톱 &#x26; 웹 지갑의 모바일형 지갑</li>\n<li>데스크탑 지갑 - 데스크탑 지갑은 Windows, Mac 또는 Linux같은 OS에 다운로드하여 작동할 수 있는 앱</li>\n<li>웹 지갑 - 웹 지갑은 웹사이트에서 호스팅되는 지갑으로 사용자가 계정을 생성하고, 보관할 수 있음. 절대 고장나지 않고 쉽게 접속 가능하나 보안에 관련하여 제공업체에 의존적임</li>\n</ul>\n<h3>유명한 지갑들</h3>\n<ul>\n<li>\n<p><strong>메타마스크</strong> - 이더리움을 보유하고 송금 및 관리 할 수있는 암호화폐 지갑이며 구글 크롬 확장 프로그램을 사용함. 지갑 생성은 니모닉 코드를 사용.</p>\n<p><a href=\"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=ko\" target=\"_blank\" rel=\"nofollow\">메타마스크 확장 프로그램 다운받기</a></p>\n<p>-> <strong>니모닉 코드</strong>? 이것은 무엇인가?</p>\n<ul>\n<li>암호화폐 지갑은 비대칭 키 암호 방식을 사용하는데 공개키와 비공개키는 <strong>SHA-256</strong> 알고리즘을 이용하여 어떤 길이의 암호를 생성해도 256 비트의 고정된 길이를 만들어준다.</li>\n<li>개인키를 잃어버리면 지갑을 가지고 있더라도 보관된 화폐를 찾을 수 없기 때문에 관리가 중요하다. 하지만 개인키는 외우고 다니기 힘든 64자리 문자열을 나타내는데 이것을 외우기 쉽게 니모닉 코드를 이용하여 사람이 읽기 쉬운 단어들의 조합으로 이루어져 있다.</li>\n<li>니모닉은 12개 또는 24개의 랜덤한 영어 단어로 이루어져 있으며 암호화폐에 필요한 개인키를 편하게 사용할 수 있게 도와 준다.</li>\n</ul>\n</li>\n<li>\n<p><strong>마이이더월렛(MEW)</strong> - 이더리움을 보관하고 입•출금 할 수 있는 암호화폐 지갑</p>\n<p><a href=\"myetherwallet.com\">마이이더월렛</a></p>\n<ul>\n<li>하드웨어 지갑 스타일 보안 기능을 제공하고 이중 인증으로 사용자의 거래를 보호한다</li>\n<li>사용자의 개인키를 요구하지 않기 때문에 좀 더 안전하게 개인키를 소유자가 직접 관리 한다</li>\n<li>탈중앙화와 P2P 통신을 사용하고 개인 데이터를 수집 하지 않는다.</li>\n</ul>\n</li>\n</ul>\n<h3>Mnemonic Wallet 개발해보기</h3>\n<p><a href=\"https://www.postman.com/\" target=\"_blank\" rel=\"nofollow\">Postman</a> 과 <a href=\"https://github.com/ConsenSys/eth-lightwallet#readme\" target=\"_blank\" rel=\"nofollow\">eth-lightwallet 모듈</a> 을 사용하여 간단하게 테스트 해보았다</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">router<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/newMnemonic'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> mnemonic <span class=\"token comment\">// lightwallet을 사용하여 keystore을 담을 변수</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    mnemonic <span class=\"token operator\">=</span> lightwallet<span class=\"token punctuation\">.</span>keystore<span class=\"token punctuation\">.</span><span class=\"token function\">generateRandomSeed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> mnemonic <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 응답 값을 JSON형태로 리턴</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/Users/brianson/Documents/Blog/ydblog/contents/Mn1.png\" alt=\"결과\"></p>\n<p>응답으로 니모닉 코드를 확인할 수 있다. 이 코드를 통해 우리가 만든 지갑에 쉽게 접근 가능하다. 만약 니모닉 코드가 아니였다면 문자 하나가 달라져도 해시값이 달라지는 SHA-256 알고리즘에 의해 그 한문자를 찾아서 고쳐야 하지만 니모닉코드는 찾기 쉽다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">router<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/newWallet'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> password <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>password <span class=\"token comment\">// 위에서 요청받은 비밀번호와</span>\n  <span class=\"token keyword\">let</span> mnemonic <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>mnemonic <span class=\"token comment\">// 니모닉 코드를 변수에 할당한다</span>\n\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// lightwallet.keystore.createVault(options, callback) 형태로 되어있으며</span>\n    <span class=\"token comment\">// options 안에 password와 seedPhrase(니모닉코드) 를 필수적으로 넣어 줘야 한다</span>\n    <span class=\"token comment\">// salt는 사용하면 암호화와 복호화에 추가적으로 더 단단한 암호를 생성해준다. option안에 없다면 랜덤한 salt가 디폴트로 설정된다</span>\n    <span class=\"token comment\">// hdPathString도 필수적으로 필요하며 BIP39 에서 제공되는 \"m/0'/0'/0'\" 형태를 사용하거나</span>\n    <span class=\"token comment\">// BIP44 형태인 \"m/44'/60'/0'/0\" 를 사용한다</span>\n    lightwallet<span class=\"token punctuation\">.</span>keystore<span class=\"token punctuation\">.</span><span class=\"token function\">createVault</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">{</span>\n        password<span class=\"token operator\">:</span> password<span class=\"token punctuation\">,</span>\n        seedPhrase<span class=\"token operator\">:</span> mnemonic<span class=\"token punctuation\">,</span>\n        hdPathString<span class=\"token operator\">:</span> <span class=\"token string\">\"m/0'/0'/0'\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">//callback</span>\n      <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> ks</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// keyFromPassword(password, callback) 형태</span>\n        <span class=\"token comment\">// password에 전달된 password를 callback형태에 넘겨주면서 내부적으로 설정된 salt를 사용하여</span>\n        <span class=\"token comment\">// 주소와 개인키를 pwDerivedKey로 넘겨준다</span>\n        ks<span class=\"token punctuation\">.</span><span class=\"token function\">keyFromPassword</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> pwDerivedKey</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          ks<span class=\"token punctuation\">.</span><span class=\"token function\">generateNewAddress</span><span class=\"token punctuation\">(</span>pwDerivedKey<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n          <span class=\"token keyword\">let</span> address <span class=\"token operator\">=</span> ks<span class=\"token punctuation\">.</span><span class=\"token function\">getAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// keystore에 저장된 16진수 문자열 주소를 반환</span>\n          <span class=\"token keyword\">let</span> keystore <span class=\"token operator\">=</span> ks<span class=\"token punctuation\">.</span><span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// keystore에 저장된 객체를 JSON-인코드된 문자로 바꿔주고 그 문자를 리턴</span>\n\n          res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> keystore<span class=\"token operator\">:</span> keystore<span class=\"token punctuation\">,</span> address<span class=\"token operator\">:</span> address <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// keystore와 address 주소를 응답</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'NewWallet ==>>>> '</span> <span class=\"token operator\">+</span> exception<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"/Users/brianson/Documents/Blog/ydblog/contents/Mn2.png\" alt=\"결과\"></p>\n<p>결과를 보면 알 수 있듯이 keystore의 주소와 구현 형태를 알 수 있다. 하지만 보기가 어렵기 때문에 json형태로 local서버에 저장하고 결과값을 확인하자</p>\n<p><img src=\"/Users/brianson/Documents/Blog/ydblog/contents/Mn3.png\" alt=\"결과\"></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"encSeed\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"encStr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rrvU90nKF8b+jerdoDDhMyr7qplFnLFT5+ZxuRYZh4jYYIkq1NTLmKOYK0NhEKtpSDTGLZ6vcYMO2qIxnXCM8/Ks6VTmv//HSZHh0OTQFn8OpP6FS85G8BeyKIl45pNsWU8HC2QrJ8j6U9l/e77KWOHQLxqxI9DvYchwBXo1z+6nauvTAlvTBQ==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"nonce\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"slYsGfEzTB6eW/ljOAao9GzIwCJ4blQV\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"encHdRootPriv\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"encStr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4f3/cDc5KMhJPuB64aoVl69njYg9RIrOyG0K9v1UTs6f1nwgOrMd7uj3CwF6e6u587xG9HrrnWcZfo1eNsYvGv9mFF6SSnbdakT/7InG2eQTKNk5pjv8DizM/ekMBhZ2bOsRYgMQ/6xVv2IDRetypcnp9/T8sT+JcVPqFTq5Tw==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"nonce\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GfijZB9ir+cMTgXTPOVj53y8o6skEA/q\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"addresses\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"7ba908580b5c3538a70a86f5af25f747fd667e09\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"encPrivKeys\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"7ba908580b5c3538a70a86f5af25f747fd667e09\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cjEDSLRjLA4UtEmnA07RR0MrllPobYib5SNUvQf1XyTljYSteQW0jNd3iZQiRk//\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"nonce\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npMs2YPSHsUU4cFLAGGRUNfSxLjjCEiZ\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"hdPathString\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"m/0'/0'/0'\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"salt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"p2pIkf069vcne9C3JvNKnTYLm4BdQSQThmY3g24QFi4=\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"hdIndex\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>wallet.json 파일을 로컬 서버에 저장하고 결과값을 다음과 같이 확인 할 수 있었다.</p>\n<h3>마치며</h3>\n<p>암호화페를 이용하려면 각 암호화폐가 사용하는 프로토콜에 따라 사용되는 암호 알고리즘을 가지고 개인키 와 공개키를 사용 하게 되는데 이때 개인키를 어딘가에 보관해서 사용해야만 한다. 그 때 필요한게 암호화폐 지갑인데 현재 다양한 지갑들이 서비스 되고 있으며 그 중에서 많이 상용화 된 메타마스크와 마이이더월렛을 알아보았고 마이이더월렛을 직접 간단하게 만들어 보았다. 각 지갑마다 구현된 시스템이 다르기 때문에 나중에 프로젝트 혹은 서비스를 만들때 지갑 구현에 필요한 기술을 좀 더 알아봐야겠다.</p>","frontmatter":{"title":"블록체인 • 다양한 암호화폐 지갑","summary":"다양한 암호화폐 지갑을 알아보고 실습도 해보자","date":"2021.11.23.","categories":["BlockChain"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAYIB//EABYBAQEBAAAAAAAAAAAAAAAAAAIDB//aAAwDAQACEAMQAAABZYOpCKNiTCZQTP8A/8QAGhAAAgMBAQAAAAAAAAAAAAAAAwQCBQYHFP/aAAgBAQABBQJzj9ipl2hMSBqXGp3el6FpacNi2L0tsMuG/8QAHBEAAgIDAQEAAAAAAAAAAAAAAQIDBBESIUEA/9oACAEDAQE/AZ2s1rtyjajDlXZqjQSBSYDkIGQhY04M9LtttnmuVhjAAUOq+KdWIyc4J9Pen7//xAAdEQACAgIDAQAAAAAAAAAAAAABAgMRBCEAEhMi/9oACAECAQE/AUysoq/tkLJI0vZT5eapFYqO1tncre6UBjt6HI3aOONG+mSNFLCgCVVQSL3RrV8//8QAJRAAAwACAQQBBAMAAAAAAAAAAQIDBBIRAAUTITEGFCIjJEFR/9oACAEBAAY/Asj6lHef40OyP3tZ482zUaMwjnGelTiUnleNnfREvP8ATRfLtrt9xLOjZeSVmRWFXivzVdwZL/gD0VtvjkdZTCUNSIFB25JfaKhhMqqDHZ4o4B4uis3F/Jsduesfs8qxye3beOS5Jq74sH32njy5OL6Lbza0aan0QyngLlzFr2ooZnzG1nV0UpSjYmI0IJ+zgxmNlUDYtz+PRyKGU3cLt4Q0w7ce6P7batD+Tv8A2fgAADr/xAAXEAEBAQEAAAAAAAAAAAAAAAABESEA/9oACAEBAAE/IVlmCsjPxoBAR5dSJAncdxXERo0EaVpG+odvU+r8hkpeMqQD6JyWZQJ1gxeqHGPgrkg6lhSUg4//2gAMAwEAAgADAAAAEIAv/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREhAP/aAAgBAwEBPxCw3GKwzQbaQIR0uaVSSEHAUBiqiwX/xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAx/9oACAECAQE/EB9oHNMXhdZmowsdK6HUgCWAMlBpv//EABcQAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQEAAT8Qgb7X9TTYIWI3T/JmaWhUliQkEGhsrHxtaOL/AGjpR66/bFkO6yQbRViuu3WASEo+INed0B//2Q=="},"images":{"fallback":{"src":"/static/257a2fd2fa76561b804eacc6f8a1fcd8/c73bc/block4.jpg","srcSet":"/static/257a2fd2fa76561b804eacc6f8a1fcd8/48bef/block4.jpg 875w,\n/static/257a2fd2fa76561b804eacc6f8a1fcd8/0f74d/block4.jpg 1750w,\n/static/257a2fd2fa76561b804eacc6f8a1fcd8/c73bc/block4.jpg 3500w","sizes":"(min-width: 3500px) 3500px, 100vw"},"sources":[{"srcSet":"/static/257a2fd2fa76561b804eacc6f8a1fcd8/9b988/block4.webp 875w,\n/static/257a2fd2fa76561b804eacc6f8a1fcd8/7bd8c/block4.webp 1750w,\n/static/257a2fd2fa76561b804eacc6f8a1fcd8/a619b/block4.webp 3500w","type":"image/webp","sizes":"(min-width: 3500px) 3500px, 100vw"}]},"width":3500,"height":2500}},"publicURL":"/static/257a2fd2fa76561b804eacc6f8a1fcd8/block4.jpg"}}}}]}},"pageContext":{"slug":"/blockchain4/"}},
    "staticQueryHashes": []}