{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/blockchain7/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>Truffle을 이용한 ERC-721 개발</h1>\n<p>오늘은 ERC-721을 Truffle을 이용해서 만들어 보겠습니다 😀\n먼저 ERC-721이 무엇인지 알아 볼까요?</p>\n<h4>이더리움 토큰</h4>\n<p>이더리움에는 EIP-# (#는 숫자) 로 되는 다양한 제안들이 있습니다. 이 제안들은 이더리움을 좀 더 개선하는 방향을 목적으로 세계적으로 많은 개발자들이 참여하고 있죠.\n이더리움은 오픈소스 이기 때문에 누구나 오픈소스에 참여 할 수 있습니다 ! 지금 이 글을 보는 당신도 말이죠 🙌\n대표적으로 <strong>ERC-20</strong> 과 <strong>ERC-721</strong>를 가장 많이 채택하여 사용하고 있습니다. <strong>ERC-20(Fungible Token)</strong> 은 대체 가능한 토큰 이라고 하여 이더리움 생태계에서 다양한 dApp 들과 호환 및 사용 가능 하며 이더리움에서 **ETH(이더)**를 토큰으로 교환하여 사용 할 수도 있습니다. 쉽게 설명하자면 세계적으로 미국 달러를 기준으로 원유(ETH)를 구매 하는 것 처럼 각 나라마다 가지고 있는 화폐를 토큰으로 비유하여 서로 교환한다 라고 생각하면 조금 쉽지요? 그렇다면 <strong>ERC-721</strong>은 무엇인지 예측 한번 해보실까요?🤔</p>\n<p>오늘 우리가 알아볼 <strong>ERC-721</strong>이 요즘 가장 핫한 <strong>NFT</strong>시장에서 사용되는 <strong>Non-Fungible Token</strong> 입니다. 앞서 소개 했던 <strong>ERC-20</strong>은 대체 가능하기 때문에 토큰을 여러개 만들어서 교환 할 수 있지만 <strong>ERC-721</strong>은 대체가 불가능 하며 오직 하나의 토큰으로만 식별이 가능하기 때문에 값을 매길 수 없던 것들도 가능하게 만들어준 혁신적인 디지털 기술인 것 입니다.\n이것은 토큰으로 교환하는 것에 쓰이기 보단, 인터넷에 많은 디지털 자산들을 값으로 매길 수 있기 때문에 그림이나 노래, 영상, 등.. 값으로 매겨 사고 팔 수 있게 됐습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1e514b9ae4059fc6c5c83258b9967066/025f7/ercPicture.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC0UlEQVQozyWR3U9TBwDF7+PefdzUZdByb7/uvW1vbfkaI1DYhCnzA2SGzagxyFhdLR3Ih2hBJkgmG1gvxF5KYZXSClgURYWgwSZmiZmZ+3BPxuwRs//gt3R7ODk5yS8nOTnCbrWSd00O3tmxk/dMCnX7v6Cu5gj+vU3U1B6itrYRv/8gVfUNVB04hFzpR9pTgqe6Bu/He9EqqvGV1uMp9+P21SLYnRqFkp1dH5io/vQw69cf8euxG8SNZTJGlj9yz7g3e4fJVILZ0W9JjvWiLxusJb/n/g9hbs4b3J1McDPRTHJsAsHjq0Dzfojq9vFJ/RFya094++oFd5Y2SRsZ/vn7T37ZfMZ0KsFdfYitVBQ9HWVjQee3zDWyi7Nkp3Re3h9hLTaJoGolOJxe7KpGZfU+4vHbzM0sMHplmvHhKRamU+ij0wxHx4inppj6SWdwYoh4MspMcoJx/SrG6A2WYgbXh6IInuIK3N5y8sWiVcGqeiiQVCwOF1bZh2hxYxYVrA4Nh7sESdYQbS4crmJsqgebnJcXs6QhWpwI+bl7ij/CqZVSVuanJxihu72HQGuYE6GvaO8N0toZIHi2jaPNjRz/8iihYBvtp0/S8nkzoVAbbR2tdPUHaf3mFIJd0bDJGgVFVhoaWniezpIbCLE2t0g0oXOm5RiXr17i8ZMlRiKDzMd0Hj9IEunroumzRrLLMTaeZtl+/ZKV1VkEt68UyeFkZ4GJ+romctlV/lrP8GB+BSNt8GJrg5lMnMXFGK9/3mL7ze+k58Z5un6b57l10gs6K6tJtt+84uHmLQRF82FV3Lxvligtq2I48iN9HRfpONNHKNLD+ZEBAn1hunvCfDdwnv7eMOGOAFeGBxi8cI5z3WfpvNhF/2Avgc6v86eUY5FdmCwOTJIds1WhUJIRbSpFkoKpSEa0qIhWJ4X5LKmYLf97oSgj2VwUSSomUfmP+xfIjse90etZlgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1e514b9ae4059fc6c5c83258b9967066/a59e9/ercPicture.webp 192w,\n/static/1e514b9ae4059fc6c5c83258b9967066/0ca9f/ercPicture.webp 384w,\n/static/1e514b9ae4059fc6c5c83258b9967066/dc9b9/ercPicture.webp 768w,\n/static/1e514b9ae4059fc6c5c83258b9967066/e2c2f/ercPicture.webp 1152w,\n/static/1e514b9ae4059fc6c5c83258b9967066/f3efb/ercPicture.webp 1536w,\n/static/1e514b9ae4059fc6c5c83258b9967066/922d3/ercPicture.webp 3838w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1e514b9ae4059fc6c5c83258b9967066/3b721/ercPicture.png 192w,\n/static/1e514b9ae4059fc6c5c83258b9967066/66595/ercPicture.png 384w,\n/static/1e514b9ae4059fc6c5c83258b9967066/fe486/ercPicture.png 768w,\n/static/1e514b9ae4059fc6c5c83258b9967066/d2d74/ercPicture.png 1152w,\n/static/1e514b9ae4059fc6c5c83258b9967066/e8464/ercPicture.png 1536w,\n/static/1e514b9ae4059fc6c5c83258b9967066/025f7/ercPicture.png 3838w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1e514b9ae4059fc6c5c83258b9967066/fe486/ercPicture.png\"\n            alt=\"opensea\"\n            title=\"opensea\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<blockquote>\n<p>NFT 시장에서 많은 거래가 이루어 지고 있는 사이트중 하나인 <a href=\"https://opensea.io/collection/blockydoge\" target=\"_blank\" rel=\"nofollow\">OpenSea</a> 이며 그중 하나의 작품</p>\n</blockquote>\n<hr>\n<h4>ERC-721</h4>\n<p><img src=\"https://thumb2.photo.mybox.naver.com/3472467147093553192?type=m1280_1280_2&#x26;authtoken=hTagssb5xIC27K9RMsT1FAI=&#x26;filelink=6QpevoJt/7NdgdxDF4N25+TK/DdEqZOhqwdQg5Vy8AzMaD55s5rWRky89b3iSjakoW4LPDIazUqisIwojtMWogI=\" alt=\"\"></p>\n<p>테스트에 사용될 NFT 사진이다.. 정말 테스트용으로만 쓰이는 사진이기 때문에 절대 사용하지 마세요! 괜히 불법으로 사용하다가 적발되면 문제가… 가 아니라 이건 [Unsplash][<a href=\"https://unsplash.com/\" target=\"_blank\" rel=\"nofollow\">https://unsplash.com/</a>] 사이트 에서 랜덤한 사진을 가져온 것이므로 이 글을 보는 여러분도 아무 사진으로 하시면 되겠습니다~ 🤗</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 아무 폴더를 생성후 로컬 명령프롬프트 위치를 해당 폴더로 이동\ntruffle init\nnpm init</code></pre></div>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 610px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6e9123c51fce54512afde0c5d751de1c/5d5ad/nftFolder.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 103.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC10lEQVQ4y51UWW/aQBg0GDCGctoctrnM5Qub+264mpCQhPShUZSq7Utfq6q/oD+gv3qqXQtBJeJEfRjtrmSPZ2fmMxNSbMTrIyS1CcTWEoXhDV3T5gV8OQNMRgOT1d+OkNICX+kiqvYQLveQ0ueI1ceIVof/Rxgu2GDyBn7vPuFh+4ioNkd5fItQsQ0mXT8++FZiTmnRTdVaoNhaglcHSGozhApt+PMmGKLy9IXXiPlSG5ysQbj7A3H8BaI5Q757BWVwg9L4FhG1D0aogxGbRzIv0qBs0QdYpQvW3CJc7iLemIAv96iP5BxQbHDFDljJel3hgZDC2iGiDlCZ7mnaSv8acm+LjL1CYbgDV+q4Sj1TJoRkQ7xy9uArfWSdDfKdD7Q+5AOkQtTPA5nnlSXz6E9tgVCxQxUl9TklIxXK2Ovz1z1HHCk5IF0c7b+i1FlSMql3BYkE07+GYC3ACI3jR09xjpTUxpfVIdoXeGcvEakOkTLe02CIOpKyX3JtIUX3HWr00rVpKFSBDmb/HYHqEGl9jvL0HuXJHSVXZw80KILicAe577aBERvnR4/NGfCPVwgYY4SLHfBqH6zUQlCxqXekNsGCQ/f0LNsvjyVXtMFlDYR+/kDi/hGyvYHQWoJJqK5y8hLx74BM07vktDaiBrleQbykIWUskGhOkTLm7rUy2tG3t4yhS6hD1mqIlXXEm3MI5gXtXqjguD8IAqI2VXNXr1AooaAh2TcQs2wI5ooWmhifa2/ontSI1IfUiKTvOS0HhZGmjkjNRlJ7j4Q2RcZZ04TJ5JCSxxoTutLx85qUkGyASWvIDmpItSxInS0dO3W2h9LbQu5d0Xn25fSToJr/BnUKrjGFrzQAO75BsL0Bry0QtdaIOZfgjSUi5oqeA/Up2OoEPnXkCSbsXIJtLsA8/ULw8hvSgz1yy2eI80ckRh+RvXhCbvEMafUZXPsafmMN1ty8iL8qjjMCbRmsuQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/6e9123c51fce54512afde0c5d751de1c/a59e9/nftFolder.webp 192w,\n/static/6e9123c51fce54512afde0c5d751de1c/0ca9f/nftFolder.webp 384w,\n/static/6e9123c51fce54512afde0c5d751de1c/2e913/nftFolder.webp 610w\" sizes=\"(max-width: 610px) 100vw, 610px\" type=\"image/webp\">\n          <source srcset=\"/static/6e9123c51fce54512afde0c5d751de1c/3b721/nftFolder.png 192w,\n/static/6e9123c51fce54512afde0c5d751de1c/66595/nftFolder.png 384w,\n/static/6e9123c51fce54512afde0c5d751de1c/5d5ad/nftFolder.png 610w\" sizes=\"(max-width: 610px) 100vw, 610px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/6e9123c51fce54512afde0c5d751de1c/5d5ad/nftFolder.png\" alt=\"nftFolder\" title=\"nftFolder\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 718px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/19e31f8a4d2232125794955ec4ddf5fe/ab030/nftConfig.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 130.20833333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAADgUlEQVRIx52VWXPqRhCFZWyD2XcbC5AQWtGGdoGXqrwkqUrl//+dL6UBXwvf2NfJw6npGZVOne7pPiN1/QP3f/zN6PV32vtn1oeI/V85+kuMnIaM1ATv9U/ulBBpaiHdO1+ju7VQk4DoUGKnKV6eYmUpQ81lpO24lU26qsvVg4M0t08/va2fEU7DiIWfYccF2zDHTo701D3NhY00PWNew1ek/a1FP4qZ7AuSwwtmVOAXB6ZmSm/t0F173DzufuCXSnuaxTiJaRol91qJm5WoQYH04DKzYzZhjr7PCcsjay+lre5pLNzPFVaEoySmZZbIxpFdWiC7GR3ZJ/dT/F1CU/aQZpYgaTxUKnffIDRK1uYTXl6i+Dmyk7A29ph+RncT0VVDmksfafahjh9xSjmhZeZM1RQtzETaVZrDbYgSZLRWAR3Fp6NGv77l3tZiECU0DY+B6iNNbKSJiTQ5pSh6r1rryr5CTzOQXZuJldOY60hjFWmyQRqfIeLa2Ui9XCfaJXpbk6nj0LcKbh8dmvJOoIpvFjbXD5bYN+5NsW8tT9+qtfomTfVL9HWbu52PJHt0NjFjO6dnZIzsgq4W09lEIr5dBfT0lIl7oKPFDKyc9ib6uQydrYUchhTPL3jZgW2YEh2eGOsJvbVHo2rkc8tc1tSqkdVI+7pFxw0Yugl2nLPYZXRWLtcPJtLceSepMLMu22VmvRPPzvtq9Dp+QNvOWNk5az9jbuyZ6gGtlS96b25GDLWAnhqeCJcujaXHnbKnuQq4fvS4XfoiFoRdP+B2WzBVSqykYBNkmHHJ3EoFqZWU4myg7UUtJTXgeh0wsnJRz2ocB2Ym8EPhnVHQVQok2aWpxrT1jPY25Vr2uFp49M3qEuLLqZhaQlVLCRla+aXCpl4w10rspEDxM2EElTE0VyGdzTnVaobf6nk2WzHX944wDOFEbwpbRsFEO7KKqpvO8PMDTloy1mMWTip+7Kx9hpuAqb6nvwneTaKOeso99ZmmleNlJX5xRPFSVm6Cmx1prUMGWoibHogPT2hC/f7nPqxfynx7ZGJlSCPjNMuiVexTPLPf47F5+b7USSvCthfSNAKGSkDj0eOqqs0XBnBVJ/qosLs1GfshN4pLa/nmxN9wlX9TJxSaO5ZBRLuqx6z+TP4H0jqc599YRq9II/38ADnf873P0FYC4cii4P+XpIZ/APiXrC5YAesFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/19e31f8a4d2232125794955ec4ddf5fe/a59e9/nftConfig.webp 192w,\n/static/19e31f8a4d2232125794955ec4ddf5fe/0ca9f/nftConfig.webp 384w,\n/static/19e31f8a4d2232125794955ec4ddf5fe/3b4cc/nftConfig.webp 718w\" sizes=\"(max-width: 718px) 100vw, 718px\" type=\"image/webp\">\n          <source srcset=\"/static/19e31f8a4d2232125794955ec4ddf5fe/3b721/nftConfig.png 192w,\n/static/19e31f8a4d2232125794955ec4ddf5fe/66595/nftConfig.png 384w,\n/static/19e31f8a4d2232125794955ec4ddf5fe/ab030/nftConfig.png 718w\" sizes=\"(max-width: 718px) 100vw, 718px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/19e31f8a4d2232125794955ec4ddf5fe/ab030/nftConfig.png\" alt=\"nftConfig\" title=\"nftConfig\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span></p>\n<p>처음 truffle init을 실행하면 이런 폴더의 구조와 config에서 ganache를 새로 추가하고 똑같이 적용한다. 컴파일러 솔리디티 버전은 솔리디티 버전에 맞게 바꿔준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"solidity\"><pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">//Contract based on [https://docs.openzeppelin.com/contracts/3.x/erc721](https://docs.openzeppelin.com/contracts/3.x/erc721)</span>\n<span class=\"token comment\">// SPDX-License-Identifier: MIT</span>\n<span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.7</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/ERC721.sol\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/utils/Counters.sol\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/access/Ownable.sol\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// openzeppelin 라이브러리를 사용 하는것을 추천한다!</span>\n<span class=\"token comment\">// 라이브러리를 사용하면 ERC721를 매번 작성해야하는 번거러움도 있고 작성한 콘트랙트에</span>\n<span class=\"token comment\">// 치명적인 오류가 생기면 안되기 때문에 검증되고 안전한 openzeppelin 라이브러리에서 블러오자!</span>\n\n<span class=\"token keyword\">contract</span> <span class=\"token class-name\">MyNFTs</span> <span class=\"token keyword\">is</span> ERC721URIStorage<span class=\"token punctuation\">,</span> Ownable <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">using</span> <span class=\"token class-name\">Counters</span> <span class=\"token keyword\">for</span> Counters<span class=\"token punctuation\">.</span>Counter<span class=\"token punctuation\">;</span>\n    Counters<span class=\"token punctuation\">.</span>Counter <span class=\"token keyword\">private</span> _tokenIds<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token function\">ERC721</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MyNFTs\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"MNFT\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// mintNFT 함수에 기본적으로 nft를 발행해줄 사용자의 주소를 입력 받아야하지만</span>\n  <span class=\"token comment\">// 현재 테스트용으로 하기때문에 간편하게 항상 이 함수를 실행하는 사용자가 발행되도록 구현했다</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">mintNFT</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> tokenURI<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">public</span> onlyOwner\n        <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        _tokenIds<span class=\"token punctuation\">.</span><span class=\"token function\">increment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token builtin\">uint256</span> newItemId <span class=\"token operator\">=</span> _tokenIds<span class=\"token punctuation\">.</span><span class=\"token function\">current</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">_mint</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> newItemId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// msg.sender 부분에 원래는 address name 이런식으로 함수 인자값으로 받아서 msg.sender에 넣어주면된다</span>\n        <span class=\"token function\">_setTokenURI</span><span class=\"token punctuation\">(</span>newItemId<span class=\"token punctuation\">,</span> tokenURI<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> newItemId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># openzeppelin을 설치<span class=\"token operator\">!</span>\nnpm install @openzeppelin<span class=\"token operator\">/</span>contracts\nmigration<span class=\"token operator\">/</span> 폴더로 이동한 후에  <span class=\"token number\">1</span>_initial_migration<span class=\"token punctuation\">.</span>js을 열고 다음 코드로 수정하자\n\n<span class=\"token keyword\">const</span> Migrations <span class=\"token operator\">=</span> artifacts<span class=\"token punctuation\">.</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Migrations'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> MyNFTs <span class=\"token operator\">=</span> artifacts<span class=\"token punctuation\">.</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'MyNFTs.sol'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// MyNFTs.sol 파일 추가</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">deployer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  deployer<span class=\"token punctuation\">.</span><span class=\"token function\">deploy</span><span class=\"token punctuation\">(</span>Migrations<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  deployer<span class=\"token punctuation\">.</span><span class=\"token function\">deploy</span><span class=\"token punctuation\">(</span>MyNFTs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// MyNFTs를 배포에 추가</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<blockquote>\n<p>이제 로컬 환경에서 Truffle을 구동하기 위한 단계는 끝났다. Ganache를 사용하여 본격적으로 배포 해봅시다🧑🏻‍💻\n새로운 터미널을 키고 ganache-cli를 입력하고 실행 해보자\nganache-cli\n그리고 전에 Truffle 폴더의 경로로 명령 프롬프트를 키고 다음 절 을 실행하자!\ntruffle migrate –compile-all –network ganache</p>\n</blockquote>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/094deebb78a6fd30749888a2fce17c91/55862/nftBegin.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 115.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAACoUlEQVQ4y51V227TQBDNK9BKLWrqOLEdX3bX90tiOzfHSUEC8Q+gFiQeeYaHStzEfx8067gkbVKlPBzNrL0+PjNn1u6kH38h/nCL6P0t4uvvGH/+g+zTbyQ3P5Be/4R38xXsyxuwb2/B3uXwHBe240BVVfR6PRm30XEtHUxXwY0+hr0L9M5PoL48hXL2Asr5Cbqnz9F9fobuszMo5xe4VC6hKMod2X3STjoukJdTzBZLxOkITLjgwoPrBxBeICN3BZgroPb7Ow/vVRjHCaazOeaLCsvlCvXqSkaZ12ssqiWKokSeFwdJdgiTJEVRTrBYLFGv1qiWdUNYr2SeFyVG41ziKMI0yzCbL6Sy9foVqqpuSOuGvJxMMc6L4xWm2QjzeYXV+kqCVK6o7I1CKrksJ1Jpf6uHh4g7jHP4fgDP88EYh+MwcM7BhYBl2/KabduwLAu9nvLA4Qcux0kKUhlGMWzbga7rMIwhdN2AYexiaJqSmPKDCjMqmRyu19IM6iehNaeNZFo7CWmaHSYkl1tCimQKEVLvqJ8UZ7N/L6D1o4R0czKdodqoI9KWkEhoTTkppHmlnEQ8WjJtWl+9ls42ahslFMlxUtqqpfGinu8jpGsdcjeKYvhBAD8IEYQhwiiSJlEebaLM4xhhGIEmo3V7G1IhnQDP92Ga5p17NG/bm2h9H5qm7WAwGDQK6QTEcQzGmCyFFFGPkjRDnCRyTeNEoD0Ex3HuYG+iaVoNoXB92I6Qc0dv2VbRrqm8YyBLLjIL5cgE5xY0TZenYV9vjkFjiivgCge6NoCq0lnd795jxNv3OqPEgissDE0LuqE/SdHeORSCg3P6ELCdL/L/EkuF49RCntkwhxq63cuD/4ujCMPAhRCO7CPnDK7ryZlsXXsq4V/BT45rKP+BowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/094deebb78a6fd30749888a2fce17c91/a59e9/nftBegin.webp 192w,\n/static/094deebb78a6fd30749888a2fce17c91/0ca9f/nftBegin.webp 384w,\n/static/094deebb78a6fd30749888a2fce17c91/dc9b9/nftBegin.webp 768w,\n/static/094deebb78a6fd30749888a2fce17c91/e2c2f/nftBegin.webp 1152w,\n/static/094deebb78a6fd30749888a2fce17c91/f3efb/nftBegin.webp 1536w,\n/static/094deebb78a6fd30749888a2fce17c91/e7fea/nftBegin.webp 1648w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/094deebb78a6fd30749888a2fce17c91/3b721/nftBegin.png 192w,\n/static/094deebb78a6fd30749888a2fce17c91/66595/nftBegin.png 384w,\n/static/094deebb78a6fd30749888a2fce17c91/fe486/nftBegin.png 768w,\n/static/094deebb78a6fd30749888a2fce17c91/d2d74/nftBegin.png 1152w,\n/static/094deebb78a6fd30749888a2fce17c91/e8464/nftBegin.png 1536w,\n/static/094deebb78a6fd30749888a2fce17c91/55862/nftBegin.png 1648w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/094deebb78a6fd30749888a2fce17c91/fe486/nftBegin.png\" alt=\"nftBegin\" title=\"nftBegin\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span> <img src=\"/1c35cc0e6dc2b091edd344caca39cdef/nftMigrate.gif\" width=\"1000\" height=\"500\"></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">truffle console --network ganache\nInstance.name()\n// 'MyNFTs'\nInstance.symbol()\n차례대로 입력하면 다음과 같은 결과가 나오면 MyNFTs.sol 이 잘 작동된다는 뜻이다!\nGanache를 실행하여 다음 구절도 실행하자\ninstance.mintNFT(\"../../ERC721/nft.json\", { from: accounts[0] })\n✨ 여기서 사용한 json 파일은 로컬환경에서 만들어준 파일이므로 원래는 클라우드에 저장하여 uri 값을 넣어줘야 하므로 실제로는 이렇게 하면 안된다 ✨\n✨ 단순히 테스트용으로 진행하기 때문에 이렇게 하는점 이해해주세요! 😉 ✨</code></pre></div>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/e3421afff2b3cfff688aaa2cc3793b98/75225/nftMiddle.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 32.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABPklEQVQoz21ROW7DMBDUJ3xIliyapEiKOqjLspyjMpA0CeDSQA4gfkiSMnn1BKQhN1Ex2Gl2dmbWU+cfiNdvJC9fbsqXT4jzL0h9B8EpVKrBGEdeFGCMXXheQAgJKSVKU4FzjsViAd/34XXHM5qnN/THD7TP7ygfT9APJ1TDPYwx4IlA07QoS4P9/gZVVaPtttj2O/S7AWmqEYYRlsvlRXCoa2xNibrIwNYhNlGAtT8HZxSUMsRxjCQRWK1WiKLIzTAMHbewQqM7yz09NEgbg7wwyGwUqUB5Ap3lkFJBqRRaZwiCAPP5/CowYnR2dSj7EsJoSKVcJ4xzEEJcR7abDaUulu3PLkxhFHOCya0BZQyccVd4HBMQsnExxyfYQzEh/5an4BVd7T7Yth2qunH8cDi4nmazmYtlo07FmxL8A/Bmybt1Z6JAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/e3421afff2b3cfff688aaa2cc3793b98/a59e9/nftMiddle.webp 192w,\n/static/e3421afff2b3cfff688aaa2cc3793b98/0ca9f/nftMiddle.webp 384w,\n/static/e3421afff2b3cfff688aaa2cc3793b98/dc9b9/nftMiddle.webp 768w,\n/static/e3421afff2b3cfff688aaa2cc3793b98/e7a10/nftMiddle.webp 1044w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/e3421afff2b3cfff688aaa2cc3793b98/3b721/nftMiddle.png 192w,\n/static/e3421afff2b3cfff688aaa2cc3793b98/66595/nftMiddle.png 384w,\n/static/e3421afff2b3cfff688aaa2cc3793b98/fe486/nftMiddle.png 768w,\n/static/e3421afff2b3cfff688aaa2cc3793b98/75225/nftMiddle.png 1044w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/e3421afff2b3cfff688aaa2cc3793b98/fe486/nftMiddle.png\" alt=\"nftMiddle\" title=\"nftMiddle\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/17d7920e5566e4b7eaaac017ca720a00/7f46a/nftResult.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 88.54166666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACSElEQVQ4y5WU2XLbMAxF9RGNxJ3aKYq0ZHmLk5k2mfb/v+l2SFrjpfZDH44AQSYI4hLOur7HMI6w3qE1wbewbsToXfSNtfG78x6jc/DTBDNa9Magrmq0bYeu6zFYC2MMsrqu0TgD1mvQVoL0CsToaOmgQToF0snE5XuMaw5CCQpGUJACeZ6jKApkSimcTu/YLXvM84JqqMBNCT4EKnBbXW2I3zKmONMClNJIJqXE+eMTy/6AetNB2hK812CdBmtVsut7o1JsjQcEBykISEhIKDIlFdw8QS4t1L4GmRrQqYVYWvBtC7HrwIPfatCw8BFCUnWExBbEIx/Ckfcex8MAM9boDQOVHFRcrGSgLB0p2lvoPZmUCst2wbg9oPd7jGaA5hTFjxzkrbiSv/AfyGSo8PgO67ooBBkq0CDC+AJ3Y139QIVMfAxQ3xuoLw/1PUL92dzz+8b/8pA/HeSvJ1zimRhrmPOMamdBdhP4bCFcDbZWZK/VMSWe9/GGrK0aNGUde5YXDKSgIDlJfXrkomiwd+rekDHOYYYBZuhRagEediqK10mfUaQrE1UO47KZZhyPJxxP7+i9gbAazD4RJEyFvU4I9xcxwh29VJ6FxzRvcT5/ovE9hKvAfAO+CdRp0dQkQkJTJoYybdppUM7uE263C+zsoZ0GryRoI9OY1TIR/EC45LdHfbv2du1pTOicRzcZtPsSstWpfy/GjNB/pyNWt05KcJxzEMYiHy1YKaNy9MXC8AewCvCMTAgBxljcgYQfr4oRer0a/8Ff7NfrcLjNEggAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/17d7920e5566e4b7eaaac017ca720a00/a59e9/nftResult.webp 192w,\n/static/17d7920e5566e4b7eaaac017ca720a00/0ca9f/nftResult.webp 384w,\n/static/17d7920e5566e4b7eaaac017ca720a00/dc9b9/nftResult.webp 768w,\n/static/17d7920e5566e4b7eaaac017ca720a00/e2c2f/nftResult.webp 1152w,\n/static/17d7920e5566e4b7eaaac017ca720a00/f3efb/nftResult.webp 1536w,\n/static/17d7920e5566e4b7eaaac017ca720a00/ead03/nftResult.webp 1646w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/17d7920e5566e4b7eaaac017ca720a00/3b721/nftResult.png 192w,\n/static/17d7920e5566e4b7eaaac017ca720a00/66595/nftResult.png 384w,\n/static/17d7920e5566e4b7eaaac017ca720a00/fe486/nftResult.png 768w,\n/static/17d7920e5566e4b7eaaac017ca720a00/d2d74/nftResult.png 1152w,\n/static/17d7920e5566e4b7eaaac017ca720a00/e8464/nftResult.png 1536w,\n/static/17d7920e5566e4b7eaaac017ca720a00/7f46a/nftResult.png 1646w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/17d7920e5566e4b7eaaac017ca720a00/fe486/nftResult.png\" alt=\"nftResult\" title=\"nftResult\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span></p>\n<hr>\n<h2>마치며</h2>\n<p>오늘은 ERC-720 을 이용하여 간단한 이미지 파일을 어떻게 블록체인에 올리는지 알아 보았다. 사실 너무 간단한 NFT를 만들어서 정말 이것만 하면 NFT 만들어서 부자 될 수 있겠지? 라는 생각 하면 안된다. 해보면서 느낀점은 컨트랙트는 한번 배포하면 수정 불가 하기 때문에 잘못된 NFT 상품을 등록하면 감옥에 갈 수 있으므로… 배포하기전에 꼭 많은 테스트를 해보고 배포를 해야 한다. NFT 데이터도 결국엔 데이터서버에 올라가게 되는데.. 이 많은 정보가 이더리움 상에 올라가게 되면 지금도 트랜잭션이 느린데 상품이 많아질수록 유지보수가 쉽지 않을 것이라 생각한다. 아직 ERC-720을 전부 해보진 않았고 OpenSea 에서 사용하는 NFT 파일 구조를 따라서 만든 것 이기 때문에 이것 말고도 더 보안적으로 처리를 해야하는 부분이 있을 것이라 생각한다. 직접 OpenSea 같은 사이트를 만들어서 NFT파일을 올려보고 판매 및 구매도 해보면 지금보다 더 발전된 개발자가 될 것이라 생각한다. 사이드 프로젝트로 구현 해보는 것을 숙제로 남겨두고 이만 물러가겠습니다. 😁</p>\n<p>모든 코드는 <a href=\"https://github.com/ysonbrian/block-smart-contract/tree/master/ERC721\" target=\"_blank\" rel=\"nofollow\">여기</a> 있으니 참고하세요!</p>","frontmatter":{"title":"Truffle을 이용한 ERC-721 개발","summary":"Truffle을 이용한 ERC-721 개발해보기","date":"2021.12.12.","categories":["BlockChain"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQHBgn/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQb/2gAMAwEAAhADEAAAAeHlAjDulb5nB3//xAAbEAACAwADAAAAAAAAAAAAAAACBQEDBAAGE//aAAgBAQABBQLIm1bNDLpTtSALSOA1GJWMLrY9i5//xAAXEQADAQAAAAAAAAAAAAAAAAAAAhFR/9oACAEDAQE/AauFTD//xAAjEQABAQUJAAAAAAAAAAAAAAABAgAEBRExAxIUQVRhcaGi/9oACAECAQE/AVPUKvCTsAnOdmSaihCwOi2Kg+l8cbt//8QAIxAAAgICAQQCAwAAAAAAAAAAAQIDBBESIQATIjFRcQUVJP/aAAgBAQAGPwKpXrVzPYt2K1etXGu801plWsgBZeLDHVCWUHnlffVj9j+Lal2OysqWWqQ2K7W7tutU2hSeeyxlsUrkCqsZP87Bm0w522hT3xJKiNwcHj7BH2D0GOxx8OVb1hcNyRrxjHxjjoqxcgiMeU8r+ae5G3ZtmbyA9BAfEZyT1//EABsQAQACAwEBAAAAAAAAAAAAAAERMQAhQRBx/9oACAEBAAE/IUjPUDItAbMhBi2ZNlYaFUAAcInaIvA3WYPkjmJdwxKKnJTg0EUSM1EkqWDUDTYeH//aAAwDAQACAAMAAAAQ5/8A/8QAHxEAAgAFBQAAAAAAAAAAAAAAASEAEVFhoTFBcbHR/9oACAEDAQE/EDPSIGuo4UgcLeLzNvOqP//EABkRAQEBAQEBAAAAAAAAAAAAAAERITFxYf/aAAgBAgEBPxBfG0qesCzK7RiCO/QXCcLB4Dvvy//EABkQAQEBAQEBAAAAAAAAAAAAAAERADEhcf/aAAgBAQABPxDu2k2KtrProfO64iU0elV9xAnBpLBUFBZzIFR7SNZRiVBWARNhuBrErOhhpqNVrL9d/9k="},"images":{"fallback":{"src":"/static/f3227e9d49364dd768ffa06cc3bf600e/f57d4/block7.jpg","srcSet":"/static/f3227e9d49364dd768ffa06cc3bf600e/2ac34/block7.jpg 480w,\n/static/f3227e9d49364dd768ffa06cc3bf600e/57893/block7.jpg 960w,\n/static/f3227e9d49364dd768ffa06cc3bf600e/f57d4/block7.jpg 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"},"sources":[{"srcSet":"/static/f3227e9d49364dd768ffa06cc3bf600e/ee194/block7.webp 480w,\n/static/f3227e9d49364dd768ffa06cc3bf600e/28dc6/block7.webp 960w,\n/static/f3227e9d49364dd768ffa06cc3bf600e/0c285/block7.webp 1920w","type":"image/webp","sizes":"(min-width: 1920px) 1920px, 100vw"}]},"width":1920,"height":1200}},"publicURL":"/static/f3227e9d49364dd768ffa06cc3bf600e/block7.jpg"}}}}]}},"pageContext":{"slug":"/blockchain7/"}},
    "staticQueryHashes": []}